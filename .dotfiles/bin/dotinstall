#!/usr/bin/env bash

# Defines
DOTPATH=$HOME/.dotfiles
DOT="git --git-dir $DOTPATH/.git --work-tree=$HOME"
REPO="git@github.com:strootje/dotfiles.git"

info() {
	printf "[ DOT ] :: $@\n"
}

# Install the dotfiels
if [ ! -d "$DOTPATH" ]; then
        info "performing initial clone"
        git clone --no-checkout $REPO $DOTPATH

        info "performing checkout on master"
        $DOT checkout master
fi

info "fetching submodules"
$DOT submodule init
$DOT submodule update
